{"ast":null,"code":"import _regeneratorRuntime from\"/home/amro/MirrorProtocol/eth-web-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/amro/MirrorProtocol/eth-web-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/amro/MirrorProtocol/eth-web-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{useState}from\"react\";import Icon from\"./Icon\";import Button from\"./Button\";import Tooltip from\"./Tooltip\";import ExtLink from\"./ExtLink\";import LinkButton from\"./LinkButton\";import styles from\"./ConnectedInfo.module.scss\";var ConnectedInfo=function ConnectedInfo(props){var address=props.address,truncated=props.truncated,link=props.link,footer=props.footer,disconnect=props.disconnect,close=props.close;var _useCopyAddress=useCopyAddress(address),copy=_useCopyAddress.copy,copied=_useCopyAddress.copied,reset=_useCopyAddress.reset;return/*#__PURE__*/_jsxs(\"div\",{className:styles.wallet,children:[/*#__PURE__*/_jsxs(\"header\",{className:styles.header,children:[/*#__PURE__*/_jsxs(\"span\",{className:styles.address,children:[/*#__PURE__*/_jsx(Icon,{name:\"account_balance_wallet\"}),truncated]}),disconnect&&/*#__PURE__*/_jsx(Button,{onClick:disconnect,size:\"xs\",color:\"secondary\",outline:true,children:\"Disconnect\"})]}),/*#__PURE__*/_jsxs(\"section\",{className:styles.actions,children:[/*#__PURE__*/_jsx(\"div\",{id:\"parent\",children:/*#__PURE__*/_jsx(Tooltip,{content:\"Copied!\",visible:copied,onClick:copy,onClickOutside:reset,className:styles.button,children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Icon,{name:\"content_paste\"}),\"Copy Address\"]})})}),/*#__PURE__*/_jsxs(ExtLink,{href:link.href,className:styles.button,children:[/*#__PURE__*/_jsx(Icon,{name:\"launch\"}),\"View on \",link.children]})]}),footer&&/*#__PURE__*/_jsx(LinkButton,{to:footer.to,onClick:close,className:styles.send,color:\"aqua\",size:\"sm\",outline:true,block:true,children:footer.children})]});};export default ConnectedInfo;/* hooks */var useCopyAddress=function useCopyAddress(address){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),copied=_useState2[0],setCopied=_useState2[1];var reset=function reset(){return setCopied(false);};var copy=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return navigator.clipboard.writeText(address);case 3:setCopied(true);setTimeout(function(){return setCopied(false);},1000);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function copy(){return _ref.apply(this,arguments);};}();return{copy:copy,copied:copied,reset:reset};};","map":{"version":3,"sources":["/home/amro/MirrorProtocol/eth-web-app/src/components/ConnectedInfo.tsx"],"names":["useState","Icon","Button","Tooltip","ExtLink","LinkButton","styles","ConnectedInfo","props","address","truncated","link","footer","disconnect","close","useCopyAddress","copy","copied","reset","wallet","header","actions","button","href","children","to","send","setCopied","navigator","clipboard","writeText","setTimeout","console","error"],"mappings":"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","sourcesContent":["import { useState } from \"react\"\nimport { LinkProps } from \"react-router-dom\"\nimport Icon from \"./Icon\"\nimport Button from \"./Button\"\nimport Tooltip from \"./Tooltip\"\nimport ExtLink from \"./ExtLink\"\nimport LinkButton from \"./LinkButton\"\nimport styles from \"./ConnectedInfo.module.scss\"\n\ninterface Props {\n  address: string\n  truncated: string\n  link: { href: string; children: string }\n  footer?: LinkProps\n  disconnect?: () => void\n  close: () => void\n}\n\nconst ConnectedInfo = (props: Props) => {\n  const { address, truncated, link, footer, disconnect, close } = props\n  const { copy, copied, reset } = useCopyAddress(address)\n\n  return (\n    <div className={styles.wallet}>\n      <header className={styles.header}>\n        <span className={styles.address}>\n          <Icon name=\"account_balance_wallet\" />\n          {truncated}\n        </span>\n\n        {disconnect && (\n          <Button onClick={disconnect} size=\"xs\" color=\"secondary\" outline>\n            Disconnect\n          </Button>\n        )}\n      </header>\n\n      <section className={styles.actions}>\n        <div id=\"parent\">\n          <Tooltip\n            content=\"Copied!\"\n            visible={copied}\n            onClick={copy}\n            onClickOutside={reset}\n            className={styles.button}\n          >\n            <>\n              <Icon name=\"content_paste\" />\n              Copy Address\n            </>\n          </Tooltip>\n        </div>\n\n        <ExtLink href={link.href} className={styles.button}>\n          <Icon name=\"launch\" />\n          View on {link.children}\n        </ExtLink>\n      </section>\n\n      {footer && (\n        <LinkButton\n          to={footer.to}\n          onClick={close}\n          className={styles.send}\n          color=\"aqua\"\n          size=\"sm\"\n          outline\n          block\n        >\n          {footer.children}\n        </LinkButton>\n      )}\n    </div>\n  )\n}\n\nexport default ConnectedInfo\n\n/* hooks */\nconst useCopyAddress = (address: string) => {\n  const [copied, setCopied] = useState(false)\n  const reset = () => setCopied(false)\n\n  const copy = async () => {\n    try {\n      await navigator.clipboard.writeText(address)\n      setCopied(true)\n      setTimeout(() => setCopied(false), 1000)\n    } catch (error) {\n      console.error(error)\n    }\n  }\n\n  return { copy, copied, reset }\n}\n"]},"metadata":{},"sourceType":"module"}