{"ast":null,"code":"import _defineProperty from\"/home/amro/MirrorProtocol/eth-web-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/amro/MirrorProtocol/eth-web-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/amro/MirrorProtocol/eth-web-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import BigNumber from\"bignumber.js\";import{DECIMALS,DECIMALS_TERRA}from\"../constants\";/* utils */export var dictWithFn=function dictWithFn(obj,fn){return Object.entries(obj).reduce(function(acc,_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];return _objectSpread(_objectSpread({},acc),{},_defineProperty({},key,fn(value)));},{});};export var integer=function integer(n){try{var r=BigNumber.ROUND_DOWN;var d=new BigNumber(10).pow(DECIMALS-DECIMALS_TERRA).toString();var v=new BigNumber(n).div(d).integerValue(r).times(d).toString();return v;}catch(_unused){return\"0\";}};","map":{"version":3,"sources":["/home/amro/MirrorProtocol/eth-web-app/src/database/dbUtils.ts"],"names":["BigNumber","DECIMALS","DECIMALS_TERRA","dictWithFn","obj","fn","Object","entries","reduce","acc","key","value","integer","n","r","ROUND_DOWN","d","pow","toString","v","div","integerValue","times"],"mappings":"qdACA,MAAOA,CAAAA,SAAP,KAAsB,cAAtB,CACA,OAASC,QAAT,CAAmBC,cAAnB,KAAyC,cAAzC,CAEA,WACA,MAAO,IAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CACxBC,GADwB,CAExBC,EAFwB,QAIxBC,CAAAA,MAAM,CAACC,OAAP,CAAeH,GAAf,EAAoBI,MAApB,CACE,SAACC,GAAD,wCAAOC,GAAP,UAAYC,KAAZ,gDAA6BF,GAA7B,wBAAmCC,GAAnC,CAAyCL,EAAE,CAACM,KAAD,CAA3C,IADF,CAEE,EAFF,CAJwB,EAAnB,CASP,MAAO,IAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,CAAD,CAAe,CACpC,GAAI,CACF,GAAMC,CAAAA,CAAC,CAAGd,SAAS,CAACe,UAApB,CACA,GAAMC,CAAAA,CAAC,CAAG,GAAIhB,CAAAA,SAAJ,CAAc,EAAd,EAAkBiB,GAAlB,CAAsBhB,QAAQ,CAAGC,cAAjC,EAAiDgB,QAAjD,EAAV,CACA,GAAMC,CAAAA,CAAC,CAAG,GAAInB,CAAAA,SAAJ,CAAca,CAAd,EAAiBO,GAAjB,CAAqBJ,CAArB,EAAwBK,YAAxB,CAAqCP,CAArC,EAAwCQ,KAAxC,CAA8CN,CAA9C,EAAiDE,QAAjD,EAAV,CACA,MAAOC,CAAAA,CAAP,CACD,CAAC,cAAM,CACN,MAAO,GAAP,CACD,CACF,CATM","sourcesContent":["import { Dictionary } from \"ramda\"\nimport BigNumber from \"bignumber.js\"\nimport { DECIMALS, DECIMALS_TERRA } from \"../constants\"\n\n/* utils */\nexport const dictWithFn = <T, Item>(\n  obj: Dictionary<Item>,\n  fn: (value: Item) => T\n) =>\n  Object.entries(obj).reduce<Dictionary<T>>(\n    (acc, [key, value]) => ({ ...acc, [key]: fn(value) }),\n    {}\n  )\n\nexport const integer = (n: string) => {\n  try {\n    const r = BigNumber.ROUND_DOWN\n    const d = new BigNumber(10).pow(DECIMALS - DECIMALS_TERRA).toString()\n    const v = new BigNumber(n).div(d).integerValue(r).times(d).toString()\n    return v\n  } catch {\n    return \"0\"\n  }\n}\n"]},"metadata":{},"sourceType":"module"}