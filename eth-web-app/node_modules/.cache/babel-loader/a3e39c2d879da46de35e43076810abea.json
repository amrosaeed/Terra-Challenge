{"ast":null,"code":"import _slicedToArray from\"/home/amro/MirrorProtocol/eth-web-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{useEffect,useRef,useState}from\"react\";import useOnClickOutside from\"use-onclickoutside\";import styles from\"./WithAbsoulte.module.scss\";var WithAbsolute=function WithAbsolute(_ref){var trigger=_ref.trigger,content=_ref.content,children=_ref.children;var ref=useRef(null);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1];var open=function open(){return setIsOpen(true);};var close=function close(){return setIsOpen(false);};var toggle=function toggle(){return setIsOpen(!isOpen);};var params={open:open,close:close,toggle:toggle};/* close card on click outside */useOnClickOutside(ref,close);/* close card on trigger change */useEffect(function(){close();},[trigger]);return/*#__PURE__*/_jsxs(\"div\",{className:styles.wrapper,ref:ref,children:[children(params),isOpen&&/*#__PURE__*/_jsx(\"div\",{className:styles.card,children:content(params)})]});};export default WithAbsolute;","map":{"version":3,"sources":["/home/amro/MirrorProtocol/eth-web-app/src/components/WithAbsolute.tsx"],"names":["useEffect","useRef","useState","useOnClickOutside","styles","WithAbsolute","trigger","content","children","ref","isOpen","setIsOpen","open","close","toggle","params","wrapper","card"],"mappings":"oPAAA,OAAoBA,SAApB,CAA+BC,MAA/B,CAAuCC,QAAvC,KAAuD,OAAvD,CACA,MAAOC,CAAAA,iBAAP,KAA8B,oBAA9B,CACA,MAAOC,CAAAA,MAAP,KAAmB,4BAAnB,CAcA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,MAA2C,IAAxCC,CAAAA,OAAwC,MAAxCA,OAAwC,CAA/BC,OAA+B,MAA/BA,OAA+B,CAAtBC,QAAsB,MAAtBA,QAAsB,CAC9D,GAAMC,CAAAA,GAAG,CAAGR,MAAM,CAAC,IAAD,CAAlB,CAD8D,cAElCC,QAAQ,CAAC,KAAD,CAF0B,wCAEvDQ,MAFuD,eAE/CC,SAF+C,eAG9D,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,SAAMD,CAAAA,SAAS,CAAC,IAAD,CAAf,EAAb,CACA,GAAME,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,SAAMF,CAAAA,SAAS,CAAC,KAAD,CAAf,EAAd,CACA,GAAMG,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,SAAMH,CAAAA,SAAS,CAAC,CAACD,MAAF,CAAf,EAAf,CACA,GAAMK,CAAAA,MAAM,CAAG,CAAEH,IAAI,CAAJA,IAAF,CAAQC,KAAK,CAALA,KAAR,CAAeC,MAAM,CAANA,MAAf,CAAf,CAEA,iCACAX,iBAAiB,CAACM,GAAD,CAAMI,KAAN,CAAjB,CAEA,kCACAb,SAAS,CAAC,UAAM,CACda,KAAK,GACN,CAFQ,CAEN,CAACP,OAAD,CAFM,CAAT,CAIA,mBACE,aAAK,SAAS,CAAEF,MAAM,CAACY,OAAvB,CAAgC,GAAG,CAAEP,GAArC,WACGD,QAAQ,CAACO,MAAD,CADX,CAEGL,MAAM,eAAI,YAAK,SAAS,CAAEN,MAAM,CAACa,IAAvB,UAA8BV,OAAO,CAACQ,MAAD,CAArC,EAFb,GADF,CAMD,CAtBD,CAwBA,cAAeV,CAAAA,YAAf","sourcesContent":["import { ReactNode, useEffect, useRef, useState } from \"react\"\nimport useOnClickOutside from \"use-onclickoutside\"\nimport styles from \"./WithAbsoulte.module.scss\"\n\ninterface Params {\n  open: () => void\n  close: () => void\n  toggle: () => void\n}\n\ninterface Props {\n  trigger?: string\n  content: (params: Params) => ReactNode\n  children: (params: Params) => ReactNode\n}\n\nconst WithAbsolute = ({ trigger, content, children }: Props) => {\n  const ref = useRef(null)\n  const [isOpen, setIsOpen] = useState(false)\n  const open = () => setIsOpen(true)\n  const close = () => setIsOpen(false)\n  const toggle = () => setIsOpen(!isOpen)\n  const params = { open, close, toggle }\n\n  /* close card on click outside */\n  useOnClickOutside(ref, close)\n\n  /* close card on trigger change */\n  useEffect(() => {\n    close()\n  }, [trigger])\n\n  return (\n    <div className={styles.wrapper} ref={ref}>\n      {children(params)}\n      {isOpen && <div className={styles.card}>{content(params)}</div>}\n    </div>\n  )\n}\n\nexport default WithAbsolute\n"]},"metadata":{},"sourceType":"module"}