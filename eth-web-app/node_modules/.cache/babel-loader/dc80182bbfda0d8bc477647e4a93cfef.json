{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Proposal = void 0;\n\nvar Coins_1 = require(\"./Coins\");\n\nvar proposals_1 = require(\"./distribution/proposals\");\n\nvar proposals_2 = require(\"./gov/proposals\");\n\nvar proposals_3 = require(\"./treasury/proposals\");\n\nvar json_1 = require(\"../util/json\");\n\nvar numeric_1 = require(\"./numeric\");\n\nvar proposals_4 = require(\"./params/proposals\");\n/**\n * Stores information pertaining to a submitted proposal, such as its status and time of\n * the voting period\n */\n\n\nvar Proposal =\n/** @class */\nfunction (_super) {\n  __extends(Proposal, _super);\n  /**\n   *\n   * @param id proposal's ID\n   * @param content content of the proposal\n   * @param proposal_status proposal's status\n   * @param final_tally_result tally result\n   * @param submit_time time proposal was submitted and deposit period started\n   * @param deposit_end_time time deposit period will end\n   * @param total_deposit amount of coins deposited by all users\n   * @param voting_start_time time voting period will start\n   * @param voting_end_time time voting period will end\n   */\n\n\n  function Proposal(id, content, proposal_status, final_tally_result, submit_time, deposit_end_time, total_deposit, voting_start_time, voting_end_time) {\n    var _this = _super.call(this) || this;\n\n    _this.id = id;\n    _this.content = content;\n    _this.proposal_status = proposal_status;\n    _this.final_tally_result = final_tally_result;\n    _this.submit_time = submit_time;\n    _this.deposit_end_time = deposit_end_time;\n    _this.total_deposit = total_deposit;\n    _this.voting_start_time = voting_start_time;\n    _this.voting_end_time = voting_end_time;\n    return _this;\n  }\n\n  Proposal.fromData = function (data) {\n    var id = data.id,\n        content = data.content,\n        proposal_status = data.proposal_status,\n        final_tally_result = data.final_tally_result,\n        submit_time = data.submit_time,\n        deposit_end_time = data.deposit_end_time,\n        total_deposit = data.total_deposit,\n        voting_start_time = data.voting_start_time,\n        voting_end_time = data.voting_end_time;\n    var ftr;\n\n    if (final_tally_result) {\n      ftr = {\n        yes: new numeric_1.Int(final_tally_result.yes),\n        no: new numeric_1.Int(final_tally_result.no),\n        abstain: new numeric_1.Int(final_tally_result.abstain),\n        no_with_veto: new numeric_1.Int(final_tally_result.no_with_veto)\n      };\n    }\n\n    return new Proposal(Number.parseInt(id), Proposal.Content.fromData(content), proposal_status, ftr, new Date(submit_time), new Date(deposit_end_time), Coins_1.Coins.fromData(total_deposit), new Date(voting_start_time), new Date(voting_end_time));\n  };\n\n  Proposal.prototype.toData = function () {\n    var _a = this,\n        proposal_status = _a.proposal_status,\n        final_tally_result = _a.final_tally_result;\n\n    var ftr;\n\n    if (final_tally_result) {\n      ftr = {\n        yes: final_tally_result.yes.toString(),\n        no: final_tally_result.no.toString(),\n        abstain: final_tally_result.abstain.toString(),\n        no_with_veto: final_tally_result.no_with_veto.toString()\n      };\n    }\n\n    return {\n      id: this.id.toFixed(),\n      content: this.content.toData(),\n      proposal_status: proposal_status,\n      final_tally_result: ftr,\n      submit_time: this.submit_time.toISOString(),\n      deposit_end_time: this.deposit_end_time.toISOString(),\n      total_deposit: this.total_deposit.toData(),\n      voting_start_time: this.voting_start_time.toISOString(),\n      voting_end_time: this.voting_end_time.toISOString()\n    };\n  };\n\n  return Proposal;\n}(json_1.JSONSerializable);\n\nexports.Proposal = Proposal;\n\n(function (Proposal) {\n  var Content;\n\n  (function (Content) {\n    function fromData(data) {\n      switch (data.type) {\n        case 'gov/TextProposal':\n          return proposals_2.TextProposal.fromData(data);\n\n        case 'distribution/CommunityPoolSpendProposal':\n          return proposals_1.CommunityPoolSpendProposal.fromData(data);\n\n        case 'treasury/TaxRateUpdateProposal':\n          return proposals_3.TaxRateUpdateProposal.fromData(data);\n\n        case 'treasury/RewardWeightUpdateProposal':\n          return proposals_3.RewardWeightUpdateProposal.fromData(data);\n\n        case 'params/ParameterChangeProposal':\n          return proposals_4.ParameterChangeProposal.fromData(data);\n      }\n    }\n\n    Content.fromData = fromData;\n  })(Content = Proposal.Content || (Proposal.Content = {}));\n\n  var Status;\n\n  (function (Status) {\n    Status[\"NIL\"] = \"\";\n    Status[\"DEPOSIT_PERIOD\"] = \"DepositPeriod\";\n    Status[\"VOTING_PERIOD\"] = \"VotingPeriod\";\n    Status[\"PASSED\"] = \"Passed\";\n    Status[\"REJECTED\"] = \"Rejected\";\n    Status[\"FAILED\"] = \"Failed\";\n  })(Status = Proposal.Status || (Proposal.Status = {}));\n})(Proposal = exports.Proposal || (exports.Proposal = {}));\n\nexports.Proposal = Proposal;","map":{"version":3,"sources":["../../src/core/Proposal.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Proposal = void 0;\nvar Coins_1 = require(\"./Coins\");\nvar proposals_1 = require(\"./distribution/proposals\");\nvar proposals_2 = require(\"./gov/proposals\");\nvar proposals_3 = require(\"./treasury/proposals\");\nvar json_1 = require(\"../util/json\");\nvar numeric_1 = require(\"./numeric\");\nvar proposals_4 = require(\"./params/proposals\");\n/**\n * Stores information pertaining to a submitted proposal, such as its status and time of\n * the voting period\n */\nvar Proposal = /** @class */ (function (_super) {\n    __extends(Proposal, _super);\n    /**\n     *\n     * @param id proposal's ID\n     * @param content content of the proposal\n     * @param proposal_status proposal's status\n     * @param final_tally_result tally result\n     * @param submit_time time proposal was submitted and deposit period started\n     * @param deposit_end_time time deposit period will end\n     * @param total_deposit amount of coins deposited by all users\n     * @param voting_start_time time voting period will start\n     * @param voting_end_time time voting period will end\n     */\n    function Proposal(id, content, proposal_status, final_tally_result, submit_time, deposit_end_time, total_deposit, voting_start_time, voting_end_time) {\n        var _this = _super.call(this) || this;\n        _this.id = id;\n        _this.content = content;\n        _this.proposal_status = proposal_status;\n        _this.final_tally_result = final_tally_result;\n        _this.submit_time = submit_time;\n        _this.deposit_end_time = deposit_end_time;\n        _this.total_deposit = total_deposit;\n        _this.voting_start_time = voting_start_time;\n        _this.voting_end_time = voting_end_time;\n        return _this;\n    }\n    Proposal.fromData = function (data) {\n        var id = data.id, content = data.content, proposal_status = data.proposal_status, final_tally_result = data.final_tally_result, submit_time = data.submit_time, deposit_end_time = data.deposit_end_time, total_deposit = data.total_deposit, voting_start_time = data.voting_start_time, voting_end_time = data.voting_end_time;\n        var ftr;\n        if (final_tally_result) {\n            ftr = {\n                yes: new numeric_1.Int(final_tally_result.yes),\n                no: new numeric_1.Int(final_tally_result.no),\n                abstain: new numeric_1.Int(final_tally_result.abstain),\n                no_with_veto: new numeric_1.Int(final_tally_result.no_with_veto),\n            };\n        }\n        return new Proposal(Number.parseInt(id), Proposal.Content.fromData(content), proposal_status, ftr, new Date(submit_time), new Date(deposit_end_time), Coins_1.Coins.fromData(total_deposit), new Date(voting_start_time), new Date(voting_end_time));\n    };\n    Proposal.prototype.toData = function () {\n        var _a = this, proposal_status = _a.proposal_status, final_tally_result = _a.final_tally_result;\n        var ftr;\n        if (final_tally_result) {\n            ftr = {\n                yes: final_tally_result.yes.toString(),\n                no: final_tally_result.no.toString(),\n                abstain: final_tally_result.abstain.toString(),\n                no_with_veto: final_tally_result.no_with_veto.toString(),\n            };\n        }\n        return {\n            id: this.id.toFixed(),\n            content: this.content.toData(),\n            proposal_status: proposal_status,\n            final_tally_result: ftr,\n            submit_time: this.submit_time.toISOString(),\n            deposit_end_time: this.deposit_end_time.toISOString(),\n            total_deposit: this.total_deposit.toData(),\n            voting_start_time: this.voting_start_time.toISOString(),\n            voting_end_time: this.voting_end_time.toISOString(),\n        };\n    };\n    return Proposal;\n}(json_1.JSONSerializable));\nexports.Proposal = Proposal;\n(function (Proposal) {\n    var Content;\n    (function (Content) {\n        function fromData(data) {\n            switch (data.type) {\n                case 'gov/TextProposal':\n                    return proposals_2.TextProposal.fromData(data);\n                case 'distribution/CommunityPoolSpendProposal':\n                    return proposals_1.CommunityPoolSpendProposal.fromData(data);\n                case 'treasury/TaxRateUpdateProposal':\n                    return proposals_3.TaxRateUpdateProposal.fromData(data);\n                case 'treasury/RewardWeightUpdateProposal':\n                    return proposals_3.RewardWeightUpdateProposal.fromData(data);\n                case 'params/ParameterChangeProposal':\n                    return proposals_4.ParameterChangeProposal.fromData(data);\n            }\n        }\n        Content.fromData = fromData;\n    })(Content = Proposal.Content || (Proposal.Content = {}));\n    var Status;\n    (function (Status) {\n        Status[\"NIL\"] = \"\";\n        Status[\"DEPOSIT_PERIOD\"] = \"DepositPeriod\";\n        Status[\"VOTING_PERIOD\"] = \"VotingPeriod\";\n        Status[\"PASSED\"] = \"Passed\";\n        Status[\"REJECTED\"] = \"Rejected\";\n        Status[\"FAILED\"] = \"Failed\";\n    })(Status = Proposal.Status || (Proposal.Status = {}));\n})(Proposal = exports.Proposal || (exports.Proposal = {}));\nexports.Proposal = Proposal;\n//# sourceMappingURL=Proposal.js.map"]},"metadata":{},"sourceType":"script"}